!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Game=e():t.Game=e()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),n={row:25,col:25,width:500,height:500,frequency:1e3};e.defaultOptions=n;var s=function(){function t(t,e){void 0===e&&(e=n);var r=i(i({},n),e),s=document.body.querySelector(t);if(null===s)return this.error=!0,void console.error("There's no element matches selector '"+t+"'");s.width=r.width,s.height=r.height,this.cellWidth=Math.floor(r.width/r.col),this.cellHeight=Math.floor(r.height/r.row),this.width=r.width,this.height=r.height,this.row=r.row,this.col=r.col,this.offsetTop=Math.floor((this.height-this.cellHeight*this.row)/2),this.offsetLeft=Math.floor((this.width-this.cellWidth*this.col)/2),this.table=new o.Table({game:this,row:r.row,col:r.col}),this.ctx=s.getContext("2d"),this.frequency=r.frequency}return t.prototype.setPattern=function(t){return this.table.setPattern(t)},t.prototype.render=function(){return this.table.render(),this},t.prototype.update=function(){return this.table.update(),this},t.prototype.start=function(){var t=this;return this.error?this:(this.update(),this.render(),this.tick=setTimeout((function(){t.start()}),this.frequency),this)},t.prototype.stop=function(){return clearTimeout(this.tick),this},t}();e.Game=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),o=function(){function t(t){var e=this;this.game=t.game,this.row=t.row,this.col=t.col,this.grid=Array.from(new Array(t.row),(function(r,o){return Array.from(new Array(t.col),(function(t,r){return new i.Cell(e.game,i.Status.Dead,o,r)}))}))}return t.prototype.render=function(){this.grid.forEach((function(t){t.forEach((function(t){return t.render()}))}))},t.prototype.update=function(){this.grid.forEach((function(t){t.forEach((function(t){return t.update()}))}))},t.prototype.resetGrid=function(){this.grid.forEach((function(t){return t.forEach((function(t){return t.init(i.Status.Dead)}))}))},t.prototype.setPattern=function(t){var e=this;if(this.resetGrid(),!t||t.length<=0||t[0].length<0)return!1;var r=t.length,o=t[0].length;if(r>this.row||o>this.col)return!1;var n=Math.floor((this.row-r)/2),s=Math.floor((this.col-o)/2);return t.forEach((function(t,r){t.forEach((function(t,o){t>0&&e.grid[n+r][s+o].init(i.Status.Live)}))})),!0},t}();e.Table=o},function(t,e,r){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Dead=0]="Dead",t[t.Live=1]="Live"}(i||(i={})),e.Status=i;var o=function(){function t(t,e,r,i){this.game=t,this.width=this.game.cellWidth,this.height=this.game.cellHeight,this.borderWidth=Math.max(Math.floor(Math.max(this.width,this.height)/10),1),this.status=e,this.oldStatus=e,this.i=r,this.j=i}return t.prototype.render=function(){var t=this.game.ctx;t.save(),this.status===i.Live?t.fillStyle="#333333":t.fillStyle="#cccccc",t.fillRect(this.j*this.width+this.borderWidth+this.game.offsetLeft,this.i*this.height+this.borderWidth+this.game.offsetTop,this.width-2*this.borderWidth,this.height-2*this.borderWidth),t.restore(),this.oldStatus=this.status},t.prototype.update=function(){this.game.table.grid;var t=this.arroundStats();this.status===i.Live?(t<2||t>3)&&this.dead():3===t&&this.live()},t.prototype.arroundStats=function(){for(var t=this.game.table.grid,e=this.game.table.row,r=this.game.table.col,o=0,n=-1;n<2;n++)for(var s=-1;s<2;s++)if(0!==n||0!==s){var h=this.i+n,u=this.j+s;if(h>=0&&u>=0&&h<e&&u<r)t[h][u].oldStatus===i.Live&&o++}return o},t.prototype.dead=function(){this.status=i.Dead},t.prototype.live=function(){this.status=i.Live},t.prototype.init=function(t){this.status=t,this.oldStatus=t},t}();e.Cell=o}]).Game}));